<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>See3PO</title>
    <style>
        body {
            margin: 30px;
            background-color: #eee;
        }
        a:link, a:visited {
            color:#6d6e73;
        }
        a:hover, a:focus, a:active {
            color:#444;
        }
        p {
            margin: 5px;
        }
        #imageUrl {
          font-size: 1.4em;
        }
        #btn {
          font-size: 1.4em;
        }
    </style>
</head>

<body>
<header>
    <h1>See-3PO</h1>
</header>

<article>
    <input type="text" value="" placeholder="http://..." id="imageUrl">
    <input type="button" value="Analyze" id="btn">
    <pre id="info"></pre>
    <div id="imageHolder"></div>
</article>

<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
<script>
var $input = $('#imageUrl')
function clickHandler(e) {
  $('#info').text('See3PO is looking...')
  $('#imageHolder').html('<img src="'+ $input.val() +'"/>')

  var url = 'https://see3po.azurewebsites.net/api/HttpTriggerJS1?url=' + $input.val() + '&code=tempkey'

  function success ( data ) {
    $('#info').text( JSON.stringify(data, null, '\t'));
  }

  function error ( xhr, status, error ) {
    $('#info').text( status +' '+ error );
  }

  $.ajax({
    url: url,
    success: success,
    error: error,
    dataType: 'json'
  });
}
$('#btn').on('click', clickHandler)
</script>
</body>
</html>
